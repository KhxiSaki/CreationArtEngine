<Window x:Class="CEEditor.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:CEEditor"
        mc:Ignorable="d"
        Title="Creation Engine Editor" Height="800" Width="1200" 
        Background="#2D2D2D">
    
    <Window.Resources>
        <!-- UE5-inspired color scheme -->
        <SolidColorBrush x:Key="BackgroundDark" Color="#2D2D2D"/>
        <SolidColorBrush x:Key="BackgroundMedium" Color="#3E3E3E"/>
        <SolidColorBrush x:Key="BackgroundLight" Color="#4A4A4A"/>
        <SolidColorBrush x:Key="Accent" Color="#007ACC"/>
        <SolidColorBrush x:Key="AccentHover" Color="#0099FF"/>
        <SolidColorBrush x:Key="PlayGreen" Color="#4EC9B0"/>
        <SolidColorBrush x:Key="PauseYellow" Color="#CE9178"/>
        <SolidColorBrush x:Key="StopRed" Color="#F44747"/>
        <SolidColorBrush x:Key="TextLight" Color="#CCCCCC"/>
        <SolidColorBrush x:Key="TextDim" Color="#969696"/>
        <SolidColorBrush x:Key="Border" Color="#555555"/>
        
        <Style TargetType="Button">
            <Setter Property="Background" Value="{StaticResource BackgroundMedium}"/>
            <Setter Property="Foreground" Value="{StaticResource TextLight}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Border}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="2">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="{StaticResource BackgroundLight}"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="{StaticResource Accent}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <Style TargetType="GroupBox">
            <Setter Property="Background" Value="{StaticResource BackgroundMedium}"/>
            <Setter Property="Foreground" Value="{StaticResource TextLight}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Border}"/>
        </Style>
        
        <Style TargetType="ToolBar">
            <Setter Property="Background" Value="{StaticResource BackgroundDark}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Border}"/>
        </Style>
        
        <Style TargetType="TreeView">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource TextLight}"/>
        </Style>
        
        <Style TargetType="TreeViewItem">
            <Setter Property="Foreground" Value="{StaticResource TextLight}"/>
        </Style>
        
        <Style TargetType="TextBox">
            <Setter Property="Background" Value="{StaticResource BackgroundLight}"/>
            <Setter Property="Foreground" Value="{StaticResource TextLight}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Border}"/>
        </Style>
        
        <Style TargetType="ComboBox">
            <Setter Property="Background" Value="{StaticResource BackgroundLight}"/>
            <Setter Property="Foreground" Value="{StaticResource TextLight}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Border}"/>
        </Style>
        
        <Style TargetType="Label">
            <Setter Property="Foreground" Value="{StaticResource TextLight}"/>
        </Style>
        
        <Style TargetType="CheckBox">
            <Setter Property="Foreground" Value="{StaticResource TextLight}"/>
        </Style>
        
        <Style TargetType="Slider">
            <Setter Property="Foreground" Value="{StaticResource Accent}"/>
        </Style>
        
        <Style TargetType="Expander">
            <Setter Property="Foreground" Value="{StaticResource TextLight}"/>
            <Setter Property="Background" Value="{StaticResource BackgroundLight}"/>
        </Style>
        
        <Style TargetType="StatusBar">
            <Setter Property="Background" Value="{StaticResource BackgroundDark}"/>
            <Setter Property="Foreground" Value="{StaticResource TextDim}"/>
        </Style>
        
        <Style TargetType="Separator">
            <Setter Property="Background" Value="{StaticResource Border}"/>
        </Style>
    </Window.Resources>
    
    <Grid Background="{StaticResource BackgroundDark}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Toolbar -->
        <ToolBar Grid.Row="0" Height="40" BorderThickness="0,0,0,1">
            <Button Name="NewBtn" Content="New" Click="NewBtn_Click" Width="60" Height="30" Margin="0,0,5,0"/>
            <Separator Margin="5,0"/>
            <Button Name="OpenBtn" Content="Open" Click="OpenBtn_Click" Width="60" Height="30" Margin="0,0,5,0"/>
            <Button Name="SaveBtn" Content="Save" Click="SaveBtn_Click" Width="60" Height="30" Margin="0,0,15,0"/>
            <Separator Margin="5,0"/>
            <Button Name="PlayBtn" Content="▶ Play" Click="PlayBtn_Click" Width="70" Height="30" Background="{StaticResource PlayGreen}"/>
            <Button Name="PauseBtn" Content="⏸ Pause" Click="PauseBtn_Click" Width="70" Height="30" Background="{StaticResource PauseYellow}" Margin="5,0,5,0"/>
            <Button Name="StopBtn" Content="⏹ Stop" Click="StopBtn_Click" Width="70" Height="30" Background="{StaticResource StopRed}"/>
        </ToolBar>
        
        <!-- Main Content Area -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="250"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="300"/>
            </Grid.ColumnDefinitions>
            
            <!-- Hierarchy Panel -->
            <GroupBox Grid.Column="0" Header="World Outliner" Margin="2" BorderThickness="1">
                <TreeView Name="HierarchyTree" Margin="5" Background="{StaticResource BackgroundDark}">
                    <TreeViewItem Header="Persistent Level" IsExpanded="True">
                        <TreeViewItem Header="BP_Player_C_0" IsExpanded="True">
                            <TreeViewItem Header="DefaultSceneRoot"/>
                            <TreeViewItem Header="Camera" Foreground="#FFD700"/>
                            <TreeViewItem Header="Capsule" Foreground="#87CEEB"/>
                            <TreeViewItem Header="Arrow" Foreground="#FF6347"/>
                        </TreeViewItem>
                        <TreeViewItem Header="DirectionalLight" Foreground="#FFE4B5"/>
                        <TreeViewItem Header="SkySphere" Foreground="#87CEEB"/>
                        <TreeViewItem Header="Floor" Foreground="#8B4513"/>
                        <TreeViewItem Header="Box" Foreground="#708090"/>
                    </TreeViewItem>
                </TreeView>
            </GroupBox>
            
            <!-- Scene View -->
            <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="180"/>
                </Grid.RowDefinitions>
                
                <GroupBox Grid.Row="0" Header="Viewport" Margin="2" BorderThickness="1">
                    <Border Background="Black" Margin="5" BorderBrush="{StaticResource Border}" BorderThickness="1">
                        <Canvas Name="SceneCanvas" Background="#0A0A0A">
                            <!-- UE5-style scene visualization with better colors -->
                            <Rectangle Canvas.Left="100" Canvas.Top="80" Width="120" Height="120" Fill="#4EC9B0" Opacity="0.6"/>
                            <Rectangle Canvas.Left="280" Canvas.Top="180" Width="100" Height="100" Fill="#F44747" Opacity="0.6"/>
                            <Ellipse Canvas.Left="450" Canvas.Top="120" Width="80" Height="80" Fill="#007ACC" Opacity="0.6"/>
                            <Rectangle Canvas.Left="180" Canvas.Top="250" Width="90" Height="90" Fill="#CE9178" Opacity="0.6"/>
                            
                            <!-- UE5-style grid lines -->
                            <Line X1="0" Y1="250" X2="900" Y2="250" Stroke="#333333" StrokeDashArray="3,3"/>
                            <Line X1="450" Y1="0" X2="450" Y2="500" Stroke="#333333" StrokeDashArray="3,3"/>
                            <Line X1="0" Y1="150" X2="900" Y2="150" Stroke="#2A2A2A" StrokeDashArray="2,4"/>
                            <Line X1="300" Y1="0" X2="300" Y2="500" Stroke="#2A2A2A" StrokeDashArray="2,4"/>
                            <Line X1="600" Y1="0" X2="600" Y2="500" Stroke="#2A2A2A" StrokeDashArray="2,4"/>
                            <Line X1="150" Y1="0" X2="150" Y2="500" Stroke="#2A2A2A" StrokeDashArray="2,4"/>
                            <Line X1="0" Y1="350" X2="900" Y2="350" Stroke="#2A2A2A" StrokeDashArray="2,4"/>
                            
                            <!-- Viewport overlay info -->
                            <TextBlock Canvas.Left="10" Canvas.Top="10" Foreground="#CCCCCC" FontFamily="Consolas" FontSize="12">
                                <Run Text="Lit"/>
                                <Run Text="  "/>
                                <Run Text="Perspective"/>
                            </TextBlock>
                        </Canvas>
                    </Border>
                </GroupBox>
                
                <!-- Console/Output -->
                <GroupBox Grid.Row="1" Header="Output Log" Margin="2" BorderThickness="1">
                    <TextBox Name="ConsoleOutput" IsReadOnly="True" Background="#0A0A0A" Foreground="#4EC9B0" 
                             FontFamily="Consolas" Margin="5" BorderThickness="0" 
                             Text="LogInit: Display: Game Editor initialized&#x0a;LogInit: Version: 1.0.0&#x0a;LogInit: Engine Version: 5.0.0&#x0a;LogInit: Ready to create amazing games!&#x0a;"/>
                </GroupBox>
            </Grid>
            
            <!-- Properties Panel -->
            <GroupBox Grid.Column="2" Header="Details" Margin="2" BorderThickness="1">
                <ScrollViewer Background="{StaticResource BackgroundDark}">
                    <StackPanel Margin="5">
                        <!-- Object info header -->
                        <Border Background="{StaticResource BackgroundMedium}" Margin="0,0,0,5" Padding="10" CornerRadius="2">
                            <TextBlock Text="BP_Player_C" Foreground="{StaticResource Accent}" FontWeight="Bold" FontSize="14"/>
                        </Border>
                        
                        <!-- Transform Section -->
                        <Expander Header="Transform" IsExpanded="True" Margin="0,2">
                            <StackPanel Margin="10,5" Background="{StaticResource BackgroundDark}">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="80"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="30"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="30"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="25"/>
                                    </Grid.RowDefinitions>
                                    
                                    <!-- Row headers -->
                                    <Label Content="Location" Grid.Row="0" Grid.Column="0"/>
                                    <Label Content="Rotation" Grid.Row="1" Grid.Column="0"/>
                                    <Label Content="Scale3D" Grid.Row="2" Grid.Column="0"/>
                                    
                                    <!-- X column -->
                                    <Label Content="X" Grid.Row="0" Grid.Column="1" Foreground="#F44747" HorizontalAlignment="Center"/>
                                    <Label Content="X" Grid.Row="1" Grid.Column="1" Foreground="#F44747" HorizontalAlignment="Center"/>
                                    <Label Content="X" Grid.Row="2" Grid.Column="1" Foreground="#F44747" HorizontalAlignment="Center"/>
                                    
                                    <!-- Y column -->
                                    <Label Content="Y" Grid.Row="0" Grid.Column="3" Foreground="#4EC9B0" HorizontalAlignment="Center"/>
                                    <Label Content="Y" Grid.Row="1" Grid.Column="3" Foreground="#4EC9B0" HorizontalAlignment="Center"/>
                                    <Label Content="Y" Grid.Row="2" Grid.Column="3" Foreground="#4EC9B0" HorizontalAlignment="Center"/>
                                    
                                    <!-- Z column -->
                                    <Label Content="Z" Grid.Row="0" Grid.Column="5" Foreground="#007ACC" HorizontalAlignment="Center"/>
                                    <Label Content="Z" Grid.Row="1" Grid.Column="5" Foreground="#007ACC" HorizontalAlignment="Center"/>
                                    <Label Content="Z" Grid.Row="2" Grid.Column="5" Foreground="#007ACC" HorizontalAlignment="Center"/>
                                </Grid>
                            </StackPanel>
                        </Expander>
                        
                        <!-- Mesh Section -->
                        <Expander Header="Mesh" IsExpanded="True" Margin="0,2">
                            <StackPanel Margin="10,5" Background="{StaticResource BackgroundDark}">
                                <TextBlock Text="Body" Margin="0,0,0,5"/>
                                <ComboBox Margin="0,0,0,10" Background="{StaticResource BackgroundLight}">
                                    <ComboBoxItem Content="Capsule" IsSelected="True"/>
                                    <ComboBoxItem Content="Sphere"/>
                                    <ComboBoxItem Content="Box"/>
                                </ComboBox>
                                
                                <TextBlock Text="Materials" Margin="0,0,0,5"/>
                                <Border Background="{StaticResource BackgroundLight}" Padding="5" CornerRadius="2">
                                    <TextBlock Text="M_MaterialInstance" Foreground="{StaticResource TextLight}"/>
                                </Border>
                            </StackPanel>
                        </Expander>
                        
                        <!-- Physics Section -->
                        <Expander Header="Physics" IsExpanded="False" Margin="0,2">
                            <StackPanel Margin="10,5" Background="{StaticResource BackgroundDark}">
                                <CheckBox Content="Simulate Physics" IsChecked="True" Margin="0,0,0,5"/>
                                <CheckBox Content="Enable Gravity" IsChecked="True" Margin="0,0,0,10"/>
                                
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="80"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="25"/>
                                    </Grid.RowDefinitions>
                                    
                                    <Label Content="Mass" Grid.Row="0" Grid.Column="0"/>
                                    <TextBox Grid.Row="0" Grid.Column="1" Text="10.0 kg" Background="{StaticResource BackgroundLight}"/>
                                    
                                    <Label Content="Linear Damping" Grid.Row="1" Grid.Column="0"/>
                                    <TextBox Grid.Row="1" Grid.Column="1" Text="0.01" Background="{StaticResource BackgroundLight}"/>
                                </Grid>
                            </StackPanel>
                        </Expander>
                        
                        <!-- Rendering Section -->
                        <Expander Header="Rendering" IsExpanded="False" Margin="0,2">
                            <StackPanel Margin="10,5" Background="{StaticResource BackgroundDark}">
                                <CheckBox Content="Visible" IsChecked="True" Margin="0,0,0,5"/>
                                <CheckBox Content="Cast Shadows" IsChecked="True" Margin="0,0,0,5"/>
                                <CheckBox Content="Receive Shadows" IsChecked="True"/>
                            </StackPanel>
                        </Expander>
                    </StackPanel>
                </ScrollViewer>
            </GroupBox>
        </Grid>
        
        <!-- Status Bar -->
        <StatusBar Grid.Row="2" Height="25" BorderThickness="0,1,0,0">
            <StatusBarItem Content="Ready" Foreground="{StaticResource TextLight}"/>
            <Separator/>
            <StatusBarItem Content="Actors: 7" Foreground="{StaticResource TextLight}"/>
            <Separator/>
            <StatusBarItem Content="Triangles: 1.2K" Foreground="{StaticResource TextLight}"/>
            <Separator/>
            <StatusBarItem Content="FPS: 60" Foreground="{StaticResource PlayGreen}"/>
            <Separator/>
            <StatusBarItem Name="StatusTime" Content="" Foreground="{StaticResource TextDim}"/>
        </StatusBar>
    </Grid>
</Window>
